generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Session {
  id           String  @id @default(cuid())
  sessionToken String  @unique
  refreshToken String?
  userId       String  @unique
  user         User    @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model Otp {
  id     String   @id @default(cuid())
  userId String   @unique
  otp    Int      @unique
  date   DateTime
  user   User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model User {
  id        String        @id @default(cuid())
  email     String        @unique
  title     UserTitle
  firstName String
  lastName  String
  IdNumber  String        @unique
  phone     String        @unique
  password  String
  ethnicity UserEthnicity
  role      UserRole
  gender    String?
  status    UserStatus    @default(Active)
  createdAt DateTime      @default(now())
  otp     Otp?
  session Session?
}


model Applications {
  id        String @id @default(cuid())
  NameOfCompany String 
  ContactPerson String
  Email String @unique
  PhoneNumber String @unique
  Address String
  City String
  Province String
  PostalCode String
  Country String
  LoanType String
  LoanAmount String
  LoanStatus String @default("Pending")
  createdAt    DateTime @default(now())

}




enum BookStatus {
  Issued
  Handed_In
  New_Stock
  Complete
  Re_Issued
}

enum UserActivityAction {
  Create
  Delete
  Update
}

enum UserStatus {
  Active
  Inactive
  Removed
}

enum UserRole {
  Admin
  Data_Capture
  Camera_Uploader
  Traffic_Officer
}

enum UserEthnicity {
  Black
  Coloured
  White
  Indian
  Asian
}

enum UserTitle {
  Mr
  Mrs
  Miss
  Ms
  Dr
}
